# 产品文档模板

## 【产品交互文档模板】

### 基础结构
```markdown
# [产品名称] 产品交互文档

## 1. 导航设计
### 1.1 主导航
#### 主导航设计
**定义**: 产品的核心导航结构，通常位于页面顶部或侧边，承载主要功能模块的入口，一般为顶部横向。
**设计要求**:
- **位置布局** - 导航条位置
- **菜单结构** - 一级菜单项的组织和分类
- **视觉样式** - 导航条背景色、字体、图标、间距
- **交互状态** - 默认、悬停、激活、禁用状态的视觉反馈
### 1.2 次导航
#### 次导航设计
**定义**: 主导航下的二级或多级导航，提供更细分的功能入口和页面导航，一般为左侧纵向。
**设计要求**:
[重复上述结构]

## 2. 页面结构
### 2.1 功能区域1
### 2.2 功能区域2
### 2.2 功能区域3

## 3. 交互流程设计
### 3.1 用户流程1
### 3.2 用户流程2
### 3.3 用户流程3
```

## 【产品功能文档模板】

### 基础结构
```markdown
# [产品名称] 产品功能文档

## 1. 核心功能详述

### 1.1 [功能模块1]
#### 1.1.1 功能描述
#### 1.1.2 使用场景
#### 1.1.3 操作流程
#### 1.1.4 业务规则
#### 1.1.5 异常处理

### 1.2 [功能模块2]
[重复上述结构]
```

## 【功能结构图模板】

### Mermaid语法示例
```mermaid
graph TD
    A[产品首页] --> B[用户管理]
    A --> C[内容管理]
    A --> D[系统设置]
    
    B --> B1[用户注册]
    B --> B2[用户登录]
    B --> B3[个人资料]
    
    C --> C1[内容发布]
    C --> C2[内容编辑]
    C --> C3[内容审核]
    
    D --> D1[系统配置]
    D --> D2[权限管理]
    D --> D3[日志管理]
```

### 模块关系图示例
```mermaid
graph LR
    A[用户模块] --> B[权限验证]
    B --> C[内容模块]
    C --> D[审核流程]
    D --> E[发布管理]
    
    F[系统设置] --> G[配置管理]
    G --> H[日志记录]
    H --> I[监控告警]
```

## 【系统架构图模板】

### 整体架构示例
```mermaid
graph TB
    subgraph "前端层"
        A[Web应用]
        B[移动应用]
        C[管理后台]
    end
    
    subgraph "网关层"
        D[API网关]
        E[负载均衡]
    end
    
    subgraph "业务层"
        F[用户服务]
        G[内容服务]
        H[支付服务]
    end
    
    subgraph "数据层"
        I[MySQL]
        J[Redis]
        K[MongoDB]
    end
    
    A --> D
    B --> D
    C --> D
    D --> E
    E --> F
    E --> G
    E --> H
    F --> I
    G --> K
    H --> I
    F --> J
```

### 微服务架构示例
```mermaid
graph TB
    subgraph "客户端"
        A1[Web前端]
        A2[移动端]
        A3[第三方应用]
    end
    
    subgraph "网关层"
        B[API网关]
    end
    
    subgraph "服务层"
        C1[用户服务]
        C2[订单服务]
        C3[支付服务]
        C4[通知服务]
    end
    
    subgraph "基础设施"
        D1[服务注册中心]
        D2[配置中心]
        D3[监控中心]
    end
    
    A1 --> B
    A2 --> B
    A3 --> B
    B --> C1
    B --> C2
    B --> C3
    B --> C4
    C1 --> D1
    C2 --> D1
    C3 --> D1
    C4 --> D1
```

## 【使用流程图模板】

### 用户注册流程示例
```mermaid
flowchart TD
    Start([开始]) --> Input[输入注册信息]
    Input --> Validate{验证信息}
    Validate -->|验证失败| Error[显示错误信息]
    Error --> Input
    Validate -->|验证成功| SendCode[发送验证码]
    SendCode --> InputCode[输入验证码]
    InputCode --> ValidateCode{验证码正确?}
    ValidateCode -->|错误| CodeError[验证码错误]
    CodeError --> InputCode
    ValidateCode -->|正确| CreateAccount[创建账户]
    CreateAccount --> Success[注册成功]
    Success --> End([结束])
```

### 订单处理流程示例
```mermaid
flowchart TD
    Start([订单创建]) --> Check{库存检查}
    Check -->|库存不足| OutOfStock[库存不足提醒]
    OutOfStock --> End1([结束])
    Check -->|库存充足| Reserve[预留库存]
    Reserve --> Payment{支付处理}
    Payment -->|支付失败| PayFail[支付失败]
    PayFail --> Release[释放库存]
    Release --> End2([结束])
    Payment -->|支付成功| Confirm[确认订单]
    Confirm --> Ship[安排发货]
    Ship --> Complete[订单完成]
    Complete --> End3([结束])
```

### 异常处理流程示例
```mermaid
flowchart TD
    Start([异常发生]) --> Detect[异常检测]
    Detect --> Log[记录日志]
    Log --> Classify{异常分类}
    Classify -->|系统异常| System[系统恢复]
    Classify -->|业务异常| Business[业务回滚]
    Classify -->|网络异常| Network[重试机制]
    System --> Notify[通知管理员]
    Business --> UserMsg[用户提示]
    Network --> Retry{重试次数}
    Retry -->|未超限| Start
    Retry -->|超限| Fail[操作失败]
    Notify --> End1([结束])
    UserMsg --> End2([结束])
    Fail --> End3([结束])
```

## 【UML序列图模板】

### 用户登录序列图示例
```mermaid
sequenceDiagram
    participant U as 用户
    participant F as 前端
    participant A as API网关
    participant S as 用户服务
    participant D as 数据库
    
    U->>F: 输入用户名密码
    F->>A: 发送登录请求
    A->>S: 转发登录请求
    S->>D: 查询用户信息
    D-->>S: 返回用户数据
    S->>S: 验证密码
    alt 验证成功
        S-->>A: 返回JWT Token
        A-->>F: 返回登录成功
        F-->>U: 跳转到首页
    else 验证失败
        S-->>A: 返回错误信息
        A-->>F: 返回登录失败
        F-->>U: 显示错误提示
    end
```

### 订单创建序列图示例
```mermaid
sequenceDiagram
    participant U as 用户
    participant F as 前端
    participant O as 订单服务
    participant P as 商品服务
    participant I as 库存服务
    participant Pay as 支付服务
    
    U->>F: 提交订单
    F->>O: 创建订单请求
    O->>P: 获取商品信息
    P-->>O: 返回商品详情
    O->>I: 检查库存
    I-->>O: 返回库存状态
    alt 库存充足
        O->>I: 预留库存
        I-->>O: 预留成功
        O->>Pay: 发起支付
        Pay-->>O: 支付结果
        alt 支付成功
            O->>I: 确认库存扣减
            O-->>F: 订单创建成功
            F-->>U: 显示成功页面
        else 支付失败
            O->>I: 释放预留库存
            O-->>F: 订单创建失败
            F-->>U: 显示失败信息
        end
    else 库存不足
        O-->>F: 库存不足
        F-->>U: 显示库存不足
    end
```

### API调用序列图示例
```mermaid
sequenceDiagram
    participant C as 客户端
    participant G as API网关
    participant A as 认证服务
    participant B as 业务服务
    participant D as 数据库
    participant R as Redis缓存
    
    C->>G: API请求 + Token
    G->>A: 验证Token
    A->>R: 检查Token缓存
    alt Token有效
        R-->>A: Token有效
        A-->>G: 验证通过
        G->>B: 转发业务请求
        B->>R: 检查数据缓存
        alt 缓存命中
            R-->>B: 返回缓存数据
        else 缓存未命中
            B->>D: 查询数据库
            D-->>B: 返回数据
            B->>R: 更新缓存
        end
        B-->>G: 返回业务结果
        G-->>C: 返回API响应
    else Token无效
        R-->>A: Token无效
        A-->>G: 验证失败
        G-->>C: 返回401错误
    end
```

## 【模板使用说明】

### 选择合适的模板
- **产品交互文档** - 适用于UI/UX设计、前端开发
- **产品功能文档** - 适用于产品规划、需求分析
- **功能结构图** - 适用于架构设计、功能梳理
- **系统架构图** - 适用于技术方案、系统设计
- **使用流程图** - 适用于业务流程、用户指导
- **UML序列图** - 适用于系统交互、API设计

### 自定义修改
1. **替换占位符** - 将模板中的 `[产品名称]`、`[功能模块]` 等替换为实际内容
2. **调整章节结构** - 根据实际需求增删章节
3. **修改图表内容** - 根据具体业务场景修改Mermaid图表
4. **扩展模板内容** - 在基础模板上增加特定的业务内容