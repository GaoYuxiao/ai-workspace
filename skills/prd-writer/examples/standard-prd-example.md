# 标准 PRD 参考示例

> 本文档作为 PRD 撰写的参考示例，展示各章节的标准写法和详细程度。

---

## 文档信息

| 属性 | 内容 |
|------|------|
| 文档版本 | v1.0 |
| 创建日期 | 2026-01-15 |
| 文档状态 | 已确认 |
| 产品模块 | 日志平台 / 客户端日志检索 |

---

## 一、需求背景（标准写法示例）

### 1.1 背景说明

**✅ 良好示例：**

客户端应用（如游戏、App）在运行过程中会产生大量日志数据，包括异常崩溃、性能问题、网络问题等。当前存在以下痛点：

1. **问题定位困难**：用户反馈问题后，运维和研发人员难以快速定位到具体的日志和问题根因
2. **数据分散**：日志数据分散在不同系统，缺乏统一的检索和分析入口
3. **维度分析缺失**：无法快速了解问题影响的版本、设备、系统等维度分布
4. **经验沉淀不足**：团队成员的问题处理经验无法有效积累和共享
5. **版本对比困难**：新版本发布后，难以快速发现回归问题和新增问题

**❌ 不良示例：**

> 我们需要做一个日志系统来查看日志。

**要点说明：**
- 背景说明需要描述现状问题，使用编号列表清晰呈现
- 每个痛点要具体、可量化或可感知
- 避免模糊描述，要有业务场景支撑

### 1.2 目标用户

**✅ 良好示例：**

| 用户角色 | 职责描述 |
|---------|---------|
| 客户端研发 | 负责客户端代码开发，需要定位和修复问题 |
| QA工程师 | 负责测试，需要复现和验证问题 |
| 运维人员 | 负责监控系统健康状态，及时发现和处理问题 |
| 技术支持 | 负责响应用户反馈，需要快速定位用户问题 |

**要点说明：**
- 明确角色名称和职责描述
- 说明该角色使用系统的场景

### 1.3 权限说明

**✅ 良好示例：**

| 用户角色 | 功能模块 | 权限 | 权限粒度 |
|---------|---------|------|---------|
| 客户端研发 | 日志检索 | 开启 | 按业务 |
| 客户端研发 | 维度分析 | 开启 | 按业务 |
| 客户端研发 | 处理经验 | 读写 | 全部 |
| QA工程师 | 日志检索 | 开启 | 按业务 |
| QA工程师 | 处理经验 | 读写 | 全部 |
| 运维人员 | 全部功能 | 开启 | 全部 |
| 技术支持 | 日志检索 | 只读 | 按业务 |

**要点说明：**
- 按角色 x 功能模块的矩阵描述权限
- 说明权限粒度（全部/按业务/按角色等）

---

## 二、功能详细设计（标准写法示例）

### 2.1 搜索首页【P0】

#### 2.1.1 功能概述

搜索首页是用户进入系统的第一个页面，提供快速搜索入口和功能导航，帮助用户快速找到目标用户的日志数据或进入其他功能模块。

> **要点：** 一段话说明功能的目的和作用，让读者快速理解。

#### 2.1.2 功能说明

- 菜单路径：`日志平台 > 检索`
- 页面URL：`/log-platform/search`

> **要点：** 明确菜单入口和页面路由。

#### 2.1.3 页面原型

**搜索首页主页面**

![搜索首页](./screenshots/01-search-home.png)

> 说明：此处为截图占位，请用户自行补充原型截图

**页面区域说明：**
- 顶部导航栏：深蓝色背景，包含平台 Logo 和主导航菜单
- 搜索区域：居中显示，包含搜索类型选择和搜索输入框
- 快捷入口：三个卡片式入口（日志模式、版本比对、规则配置）
- 最近搜索：显示用户最近的搜索历史

> **要点：** 截图 + 区域文字描述，确保开发理解布局。

#### 2.1.4 字段说明

| 字段名称 | 字段类型 | 必填 | 默认值 | 校验规则 | 错误提示 |
|---------|---------|------|--------|---------|---------|
| 搜索类型 | 下拉选择 | 是 | 用户ID | - | - |
| 搜索关键词 | 文本输入 | 是 | - | 1-64字符 | "请输入搜索关键词" |

> **要点：** 每个字段需要定义类型、必填、默认值、校验规则和错误提示。

#### 2.1.5 交互说明

**1. 搜索操作**

- 触发方式：点击"搜索"按钮或按 Enter 键
- 前置校验：搜索关键词不能为空
- 操作反馈：按钮显示 Loading 状态，禁用重复点击
- 成功场景：跳转到用户日志列表页面
- 失败场景：Toast 提示"搜索失败：xxx"，保留输入内容
- 边界情况：
  - 未找到用户：显示空状态页面，提示"未找到匹配用户"
  - 网络超时：提示"请求超时，请重试"

**2. 快捷入口点击**

- 触发方式：点击卡片
- 操作反馈：卡片有点击态（缩放或阴影变化）
- 成功场景：跳转到对应功能页面
- 失败场景：无（纯前端跳转）

> **要点：** 每个交互要形成完整闭环，包括触发、反馈、成功、失败、边界情况。

#### 2.1.6 状态设计

| 状态类型 | 触发条件 | UI表现 | 用户操作 |
|---------|---------|--------|---------|
| 默认状态 | 正常进入页面 | 显示搜索框和快捷入口 | 可搜索或点击入口 |
| 加载状态 | 搜索请求中 | 按钮显示 Loading | 不可重复提交 |
| 空状态 | 首次使用无搜索历史 | 隐藏"最近搜索"区域 | 可正常搜索 |
| 错误状态 | 接口请求失败 | Toast 提示错误信息 | 可重试 |

> **要点：** 列出页面所有可能状态，说明触发条件和 UI 表现。

#### 2.1.7 异常与边界

| 场景 | 处理方式 |
|------|---------|
| 网络超时 | 显示 Toast "网络超时，请重试"，保留输入内容 |
| 接口返回 500 | 显示 Toast "服务器异常，请稍后重试" |
| 搜索结果为空 | 跳转到空状态页面，显示"未找到匹配用户" |
| 输入特殊字符 | 前端过滤，只允许字母、数字、下划线 |
| 输入超长 | 实时截断到最大长度，显示已输入/最大字符数 |

> **要点：** 穷举可能的异常场景，给出明确处理方式。

---

## 三、数据模型（标准写法示例）

### 3.1 用户信息

```json
{
  "user_id": "10086001",
  "device_id": "DEVICE_A1B2C3D4E5",
  "device_model": "iPhone 15 Pro Max",
  "os_version": "iOS 17.2.1",
  "app_version": "v3.2.1 (1024)",
  "network_type": "WiFi",
  "channel": "App Store",
  "last_active": "2026-01-15T14:32:00Z",
  "total_reports": 12
}
```

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| user_id | string | 是 | 用户唯一标识 |
| device_id | string | 是 | 设备唯一标识 |
| device_model | string | 是 | 设备型号 |
| os_version | string | 是 | 操作系统版本 |
| app_version | string | 是 | 应用版本 |
| network_type | string | 否 | 网络类型，枚举值：WiFi/5G/4G/3G |
| channel | string | 否 | 渠道来源 |
| last_active | datetime | 是 | 最近活跃时间，ISO 8601 格式 |
| total_reports | integer | 是 | 累计上报次数 |

> **要点：** JSON 示例 + 字段说明表格，便于后端理解。

---

## 四、非功能需求（标准写法示例）

### 4.1 性能要求

| 场景 | 指标 | 说明 |
|------|------|------|
| 首屏加载 | FCP < 1.5s, LCP < 2.5s | 需优化静态资源和首屏数据 |
| 搜索响应 | < 2s | P95 响应时间 |
| 日志详情加载 | < 3s | 包含原始日志文件加载 |
| 维度分析统计 | < 5s | 涉及大数据量聚合计算 |

### 4.2 兼容性要求

| 类型 | 要求 |
|------|------|
| 浏览器 | Chrome 90+, Safari 14+, Firefox 88+, Edge 90+ |
| 分辨率 | 最小支持 1280x720 |

### 4.3 安全要求

| 要求 | 说明 |
|------|------|
| 身份认证 | 所有 API 请求需要携带 Token |
| 权限校验 | 前后端双重校验，按业务隔离数据 |
| 敏感数据 | 用户 ID 在日志中脱敏展示 |
| 操作审计 | 关键操作（如删除）记录审计日志 |

---

## 五、版本规划（标准写法示例）

### 5.1 MVP 版本（v1.0）

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 搜索首页 | P0 | 用户搜索入口，支持用户ID/设备ID搜索 |
| 用户日志列表 | P0 | 展示用户信息和日志上报记录 |
| 日志详情 | P0 | 展示日志模式和原始日志 |

### 5.2 第二阶段（v1.1）

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 模式分析 - 样本日志 | P1 | 查看其他用户的同类问题日志 |
| 版本比对 | P1 | 不同版本间的问题对比分析 |

---

## 自检要点总结

撰写 PRD 时，参照本示例检查以下要点：

### 背景部分
- [ ] 痛点描述具体、可量化
- [ ] 目标用户有角色和职责说明
- [ ] 权限矩阵完整

### 功能设计部分
- [ ] 每个功能有概述说明
- [ ] 菜单路径和页面 URL 明确
- [ ] 截图占位 + 区域文字说明
- [ ] 字段表格包含校验规则和错误提示
- [ ] 交互说明形成完整闭环（触发→反馈→成功→失败→边界）
- [ ] 状态设计覆盖默认、加载、空、错误状态
- [ ] 异常场景有明确处理方式

### 数据模型部分
- [ ] JSON 示例 + 字段说明表格
- [ ] 枚举值明确列出

### 非功能需求部分
- [ ] 性能指标可量化
- [ ] 兼容性要求明确
- [ ] 安全要求完整
