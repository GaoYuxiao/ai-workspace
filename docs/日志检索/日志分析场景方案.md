# 日志分析场景方案

## 概述

本文档描述了基于蓝鲸监控日志和告警MCP能力的三个核心日志分析场景，包括场景说明、用户故事和详细的流程处理方案。

---

## 场景一：日志聚类告警驱动的根因分析

### 场景说明

**场景描述**：
当系统通过日志聚类技术识别到异常日志模式并触发告警后，需要深入分析这些异常日志，统计其分布特征，并结合代码库定位问题根源。

**核心价值**：
- 从告警到代码问题的快速定位链路
- 自动化的异常模式识别和统计分析
- 代码级别的根因分析能力

**适用场景**：
- 生产环境异常日志告警处理
- 新功能上线后的异常检测
- 系统性能问题的根因排查

### 用户故事

**作为** 运维工程师/开发工程师  
**我希望** 当收到日志聚类告警时，能够自动分析异常日志的模式、统计其分布特征，并定位到具体的代码文件和代码行  
**以便于** 快速理解问题原因，制定修复方案，减少故障处理时间

**验收标准**：
1. 能够从告警信息中提取关键维度（时间、服务、模块等）
2. 能够自动查询和分析相关日志
3. 能够统计异常日志的分布特征（按服务、按模块、按错误类型等）
4. 能够结合代码库定位到具体的代码文件和代码行
5. 能够生成包含代码位置的分析报告

### 流程处理方案

#### 阶段一：告警信息提取与解析

**输入**：日志聚类告警信息（通过 `bkmonitor-alarm` MCP工具获取）

**处理步骤**：
1. **获取告警详情**
   - 使用 `list_alerts` 查询最近的异常告警
   - 使用 `get_alert_info` 获取告警的详细信息
   - 提取告警的关键信息：
     - 告警时间范围（start_time, end_time）
     - 告警维度信息（namespace, service, pod, host等）
     - 告警指标和阈值
     - 告警描述和标签

2. **解析告警维度**
   - 从告警信息中提取过滤条件：
     - 命名空间（namespace）
     - 服务名称（service/svr）
     - Pod名称（pod）
     - 主机IP（host/serverIp）
     - 其他业务维度
   - 构建日志查询的过滤条件字典

**输出**：解析后的告警信息，包含时间范围和过滤条件

---

#### 阶段二：日志查询与聚类结果分析

**输入**：告警信息（时间范围、过滤条件）

**处理步骤**：
1. **确定索引集**
   - 根据告警的业务ID，使用 `list_index_sets` 获取可用的索引集
   - 根据告警的服务/模块信息，确定目标索引集ID

2. **查询异常日志**
   - 使用 `search_logs` 查询告警时间范围内的日志
   - 应用告警维度作为过滤条件
   - 重点关注ERROR、WARN级别的日志
   - 限制查询数量（如1000条）以控制性能

3. **多维度统计分析**
   - 使用 `analyze_field` 进行多维度分析：
     - **分组字段**：按服务/模块分组（如 `file_name`, `service`, `module`）
     - **拆分字段**：按错误类型/级别拆分（如 `level`, `error_type`, `error_code`）
   - 统计异常日志的分布特征：
     - 各服务/模块的异常日志数量
     - 各错误类型的分布情况
     - 异常日志的时间分布趋势

4. **识别关键异常模式**
   - 分析异常日志的文本内容，识别重复出现的错误模式
   - 提取错误关键词和错误堆栈信息
   - 识别异常频率最高的日志模式

**输出**：
- 异常日志统计结果（按服务、按模块、按错误类型）
- 关键异常模式列表
- 异常日志样本

---

#### 阶段三：代码定位与分析

**输入**：异常日志分析结果（包含代码文件、错误信息等）

**处理步骤**：
1. **提取代码定位信息**
   - 从日志中提取代码文件路径（如 `code_file`, `file_name` 字段）
   - 提取代码行号（如 `line_number` 字段）
   - 提取函数名、类名等代码上下文信息

2. **代码库查询**
   - 根据代码文件路径，在代码库中定位对应的文件
   - 根据代码行号，定位具体的代码行
   - 提取相关代码片段（包含上下文，如前后各10行）

3. **代码分析**
   - 分析代码逻辑，理解错误发生的上下文
   - 识别可能导致异常的原因：
     - 空指针异常
     - 资源未释放
     - 异常处理缺失
     - 业务逻辑错误
   - 分析代码变更历史（如果可能）

4. **生成代码分析报告**
   - 标注问题代码位置
   - 说明问题原因
   - 提供修复建议

**输出**：
- 问题代码位置（文件路径、行号）
- 代码片段和上下文
- 问题原因分析
- 修复建议

---

#### 阶段四：综合分析报告生成

**输入**：告警信息、日志分析结果、代码分析结果

**处理步骤**：
1. **整合分析结果**
   - 将告警信息、日志统计、代码定位结果整合
   - 建立从告警到代码的完整链路

2. **生成Markdown报告**
   - **告警信息摘要**：告警时间、告警内容、告警维度
   - **日志统计分析**：
     - 异常日志总体统计
     - 按服务/模块的分布表格
     - 按错误类型的分布表格
     - 异常日志时间趋势（如果可能）
   - **关键异常模式**：列出高频异常模式及其出现次数
   - **代码定位结果**：
     - 问题代码文件列表
     - 代码片段展示
     - 问题原因说明
     - 修复建议
   - **关联指标分析**（可选）：
     - 如果识别到主机IP或Pod，自动查询CPU、内存等指标
     - 生成指标时序图表

3. **报告优化**
   - 使用表格统一展示统计数据
   - 嵌入代码片段（使用代码块格式）
   - 嵌入指标图表（如果生成了图表）
   - 添加目录和章节导航

**输出**：完整的Markdown格式分析报告

---

### 流程示意图

```
告警触发
    ↓
[阶段一] 告警信息提取与解析
    ├─ 获取告警详情 (list_alerts, get_alert_info)
    └─ 解析告警维度 (构建过滤条件)
    ↓
[阶段二] 日志查询与聚类结果分析
    ├─ 确定索引集 (list_index_sets)
    ├─ 查询异常日志 (search_logs)
    ├─ 多维度统计分析 (analyze_field)
    └─ 识别关键异常模式
    ↓
[阶段三] 代码定位与分析
    ├─ 提取代码定位信息
    ├─ 代码库查询
    ├─ 代码分析
    └─ 生成代码分析报告
    ↓
[阶段四] 综合分析报告生成
    ├─ 整合分析结果
    ├─ 生成Markdown报告
    └─ 报告优化
    ↓
输出：完整的根因分析报告
```

---

## 场景二：告警驱动的日志定位与代码问题诊断

### 场景说明

**场景描述**：
当系统产生告警后，运维人员需要根据告警的维度信息（如主机IP、Pod名称、服务名称等）快速定位到相关日志，从日志中提取错误信息，并进一步定位到代码问题。

**核心价值**：
- 从告警维度到日志的快速定位
- 日志上下文分析能力
- 代码级别的问题诊断

**适用场景**：
- 监控告警触发后的问题排查
- 性能告警的根因分析
- 业务异常告警的问题定位

### 用户故事

**作为** 运维工程师  
**我希望** 当收到系统告警时，能够根据告警的维度信息（如主机IP、Pod名称）自动定位到相关日志，分析日志上下文，并找到对应的代码问题  
**以便于** 快速响应告警，定位问题根源，减少故障影响时间

**验收标准**：
1. 能够从告警中提取维度信息（IP、Pod、服务等）
2. 能够根据维度信息查询相关日志
3. 能够分析日志上下文（前后相邻日志）
4. 能够从日志中提取错误信息和代码定位信息
5. 能够生成包含日志详情和代码位置的问题诊断报告

### 流程处理方案

#### 阶段一：告警维度提取

**输入**：告警信息（通过 `bkmonitor-alarm` MCP工具获取）

**处理步骤**：
1. **获取告警详情**
   - 使用 `list_alerts` 查询告警列表
   - 使用 `get_alert_info` 获取告警详细信息
   - 提取告警的关键维度：
     - 主机IP（ip, host, serverIp）
     - Pod名称（pod, pod_name）
     - 命名空间（namespace）
     - 服务名称（service, svr）
     - 其他业务维度

2. **构建日志查询条件**
   - 根据告警维度，构建日志查询的过滤条件
   - 确定查询时间范围（告警时间前后各扩展一定时间窗口，如前后15分钟）

**输出**：日志查询条件（过滤条件字典、时间范围）

---

#### 阶段二：日志定位与查询

**输入**：日志查询条件

**处理步骤**：
1. **确定索引集**
   - 根据告警的业务ID，使用 `list_index_sets` 获取索引集列表
   - 根据告警的服务/模块信息，确定目标索引集

2. **查询相关日志**
   - 使用 `search_logs` 查询告警时间范围内的日志
   - 应用告警维度作为过滤条件
   - 优先查询ERROR、WARN级别的日志
   - 限制查询数量（如500条）

3. **日志筛选与排序**
   - 按时间倒序排序，优先展示最近的日志
   - 筛选包含错误关键词的日志
   - 识别异常日志模式

**输出**：相关日志列表（包含时间、级别、内容等）

---

#### 阶段三：日志上下文分析

**输入**：关键日志条目

**处理步骤**：
1. **识别关键日志**
   - 从查询结果中识别最相关的错误日志
   - 提取关键日志的定位信息：
     - 时间戳（dtEventTimeStamp）
     - 服务器IP（serverIp）
     - GSE索引（gseIndex）

2. **获取日志上下文**
   - 使用 `search_index_set_context` 获取关键日志的前后上下文
   - 获取前后各50条日志（可根据需要调整）
   - 分析日志的时间序列，理解错误发生的完整过程

3. **分析日志序列**
   - 识别错误发生前的操作序列
   - 识别错误发生后的影响范围
   - 提取错误堆栈信息
   - 提取业务上下文信息

**输出**：日志上下文序列（包含错误发生前后的完整日志流）

---

#### 阶段四：代码问题定位

**输入**：日志上下文分析结果

**处理步骤**：
1. **提取代码定位信息**
   - 从日志中提取代码文件路径（如 `code_file`, `file_name` 字段）
   - 提取代码行号（如 `line_number` 字段）
   - 提取函数名、类名、模块名等代码上下文

2. **代码库定位**
   - 根据代码文件路径，在代码库中定位文件
   - 根据代码行号，定位具体代码行
   - 提取相关代码片段（包含上下文）

3. **问题诊断**
   - 分析代码逻辑，理解错误发生的上下文
   - 结合日志上下文，分析问题原因：
     - 参数校验缺失
     - 异常处理不当
     - 资源竞争问题
     - 业务逻辑错误
   - 分析代码变更历史（如果可能）

4. **生成诊断报告**
   - 标注问题代码位置
   - 说明问题原因和触发条件
   - 提供修复建议

**输出**：
- 问题代码位置（文件路径、行号）
- 代码片段
- 问题诊断结果
- 修复建议

---

#### 阶段五：关联指标分析（可选）

**输入**：告警维度信息（主机IP、Pod名称等）

**处理步骤**：
1. **识别资源类型**
   - 从告警维度中识别资源类型：
     - 主机IP → 主机监控指标
     - Pod名称 → 容器监控指标
     - 命名空间 → 命名空间资源指标

2. **查询监控指标**
   - 如果识别到主机IP，查询主机指标：
     - CPU使用率
     - 内存使用率
     - 磁盘使用率
     - 磁盘IO使用率
     - 系统负载
   - 如果识别到Pod，查询容器指标：
     - 容器CPU使用率
     - 容器内存使用率
   - 使用 `bkmonitor-metrics-bkop` 的 `execute_range_query` 执行PromQL查询

3. **生成指标图表**
   - 使用 `mcp-server-chart` 生成时序折线图
   - 展示告警时间点前后的指标变化趋势

**输出**：指标时序图表（PNG格式）

---

#### 阶段六：问题诊断报告生成

**输入**：告警信息、日志查询结果、日志上下文、代码定位结果、指标图表（可选）

**处理步骤**：
1. **整合诊断结果**
   - 将告警信息、日志详情、代码定位、指标分析结果整合
   - 建立从告警到代码的完整诊断链路

2. **生成Markdown报告**
   - **告警信息摘要**：
     - 告警时间、告警内容
     - 告警维度（IP、Pod、服务等）
     - 告警级别和状态
   - **日志定位结果**：
     - 查询条件说明
     - 相关日志列表（表格格式）
     - 关键错误日志详情
   - **日志上下文分析**：
     - 错误发生前的操作序列
     - 错误发生时的日志详情
     - 错误发生后的影响范围
   - **代码问题定位**：
     - 问题代码文件列表
     - 代码片段展示（包含上下文）
     - 问题原因分析
     - 修复建议
   - **关联指标分析**（如果生成了图表）：
     - 指标时序图表
     - 指标统计信息

3. **报告优化**
   - 使用表格统一展示日志列表
   - 使用代码块展示代码片段
   - 嵌入指标图表
   - 添加目录和章节导航

**输出**：完整的Markdown格式问题诊断报告

---

### 流程示意图

```
告警产生
    ↓
[阶段一] 告警维度提取
    ├─ 获取告警详情 (list_alerts, get_alert_info)
    └─ 构建日志查询条件
    ↓
[阶段二] 日志定位与查询
    ├─ 确定索引集 (list_index_sets)
    ├─ 查询相关日志 (search_logs)
    └─ 日志筛选与排序
    ↓
[阶段三] 日志上下文分析
    ├─ 识别关键日志
    ├─ 获取日志上下文 (search_index_set_context)
    └─ 分析日志序列
    ↓
[阶段四] 代码问题定位
    ├─ 提取代码定位信息
    ├─ 代码库定位
    ├─ 问题诊断
    └─ 生成诊断报告
    ↓
[阶段五] 关联指标分析（可选）
    ├─ 识别资源类型
    ├─ 查询监控指标 (execute_range_query)
    └─ 生成指标图表 (generate_line_chart)
    ↓
[阶段六] 问题诊断报告生成
    ├─ 整合诊断结果
    ├─ 生成Markdown报告
    └─ 报告优化
    ↓
输出：完整的问题诊断报告
```

---

## 场景三：日志版本比对与发版影响分析

### 场景说明

**场景描述**：
在系统发版前后，通过日志聚类技术分别对发版前和发版后的日志进行聚类分析，比对两个版本的聚类结果，识别新增的异常模式、消失的正常模式，分析发版带来的影响，并结合代码变更定位问题。

**核心价值**：
- 发版影响的量化分析
- 异常模式的自动识别
- 代码变更与日志异常的关联分析

**适用场景**：
- 新版本发布后的影响评估
- 功能上线后的异常检测
- 代码变更的回滚决策支持

### 用户故事

**作为** 开发工程师/运维工程师  
**我希望** 在系统发版后，能够自动比对发版前后的日志聚类结果，识别新增的异常模式，分析发版带来的影响，并定位到相关的代码变更  
**以便于** 快速评估发版影响，发现潜在问题，做出回滚或修复决策

**验收标准**：
1. 能够分别对发版前后两个时间段的日志进行聚类分析
2. 能够比对两个版本的聚类结果，识别差异
3. 能够统计新增异常模式、消失正常模式
4. 能够结合代码变更历史，定位问题代码
5. 能够生成包含差异分析和代码定位的比对报告

### 流程处理方案

#### 阶段一：时间范围与过滤条件确定

**输入**：发版时间点、业务维度信息

**处理步骤**：
1. **确定时间范围**
   - 发版前时间段：发版时间点前N小时（如发版前2小时）
   - 发版后时间段：发版时间点后N小时（如发版后2小时）
   - 确保两个时间段长度一致，便于对比

2. **确定过滤条件**
   - 根据业务需求，确定日志查询的过滤条件：
     - 命名空间（namespace）
     - 服务名称（service/svr）
     - 其他业务维度
   - 发版前后使用相同的过滤条件，确保对比的公平性

**输出**：发版前后两个时间段的配置（时间范围、过滤条件）

---

#### 阶段二：发版前日志聚类分析

**输入**：发版前时间段配置

**处理步骤**：
1. **确定索引集**
   - 根据业务ID，使用 `list_index_sets` 获取索引集列表
   - 确定目标索引集ID

2. **查询发版前日志**
   - 使用 `search_logs` 查询发版前时间段的日志
   - 应用过滤条件
   - 限制查询数量（如5000条）

3. **多维度聚类分析**
   - 使用 `analyze_field` 进行多维度分析：
     - **分组字段**：按日志模式分组（如 `error_type`, `error_message` 的哈希值，或使用 `file_name` + `level` 组合）
     - **拆分字段**：按服务/模块拆分（如 `service`, `module`, `file_name`）
   - 统计各日志模式的出现次数和分布

4. **生成发版前聚类结果**
   - 记录各日志模式的统计信息：
     - 日志模式标识（如错误类型、错误消息模式）
     - 出现次数
     - 分布的服务/模块
     - 日志级别分布

**输出**：发版前日志聚类结果（日志模式统计表）

---

#### 阶段三：发版后日志聚类分析

**输入**：发版后时间段配置

**处理步骤**：
1. **查询发版后日志**
   - 使用 `search_logs` 查询发版后时间段的日志
   - 应用相同的过滤条件
   - 限制查询数量（如5000条）

2. **多维度聚类分析**
   - 使用与发版前相同的分析策略：
     - 相同的分组字段和拆分字段
     - 相同的统计维度
   - 统计各日志模式的出现次数和分布

3. **生成发版后聚类结果**
   - 记录各日志模式的统计信息（格式与发版前一致）

**输出**：发版后日志聚类结果（日志模式统计表）

---

#### 阶段四：聚类结果比对分析

**输入**：发版前后聚类结果

**处理步骤**：
1. **差异识别**
   - **新增模式**：在发版后出现，但发版前不存在的日志模式
   - **消失模式**：在发版前存在，但发版后消失的日志模式
   - **变化模式**：在发版前后都存在，但出现次数或分布发生显著变化的日志模式
     - 显著增加：发版后出现次数 > 发版前出现次数 * 阈值（如1.5倍）
     - 显著减少：发版后出现次数 < 发版前出现次数 * 阈值（如0.5倍）

2. **异常模式筛选**
   - 重点关注ERROR、WARN级别的日志模式
   - 筛选出现次数超过阈值的新增模式（如出现次数 > 10）
   - 筛选变化幅度超过阈值的变化模式

3. **影响范围分析**
   - 统计新增异常模式影响的服务/模块数量
   - 统计新增异常模式的总出现次数
   - 分析异常模式的严重程度（根据日志级别和出现频率）

**输出**：
- 新增异常模式列表
- 消失正常模式列表
- 显著变化模式列表
- 影响范围统计

---

#### 阶段五：代码变更关联分析

**输入**：异常模式列表（新增、变化）

**处理步骤**：
1. **提取代码定位信息**
   - 从异常日志中提取代码文件路径（如 `code_file`, `file_name` 字段）
   - 提取代码行号（如 `line_number` 字段）
   - 提取函数名、类名等代码上下文

2. **代码变更查询**
   - 根据代码文件路径，查询代码变更历史
   - 筛选发版时间点附近的代码变更（如发版前1天到发版后1天）
   - 识别与异常模式相关的代码变更

3. **变更影响分析**
   - 分析代码变更内容，理解变更逻辑
   - 关联代码变更与异常模式：
     - 变更的代码文件是否与异常日志中的代码文件匹配
     - 变更的代码逻辑是否可能导致异常
   - 评估变更的影响范围

4. **生成变更分析报告**
   - 列出相关的代码变更
   - 说明变更与异常的关联关系
   - 提供回滚或修复建议

**输出**：
- 相关代码变更列表
- 变更与异常的关联分析
- 修复建议

---

#### 阶段六：版本比对报告生成

**输入**：发版前后聚类结果、差异分析结果、代码变更分析结果

**处理步骤**：
1. **整合比对结果**
   - 将发版前后聚类结果、差异分析、代码变更分析整合
   - 建立从日志异常到代码变更的完整链路

2. **生成Markdown报告**
   - **发版信息摘要**：
     - 发版时间点
     - 发版前后时间段
     - 分析范围（服务、模块等）
   - **发版前聚类结果**：
     - 日志模式统计表
     - 异常模式分布
   - **发版后聚类结果**：
     - 日志模式统计表
     - 异常模式分布
   - **差异分析结果**：
     - 新增异常模式列表（表格格式）
     - 消失正常模式列表（表格格式）
     - 显著变化模式列表（表格格式）
     - 影响范围统计
   - **代码变更关联分析**：
     - 相关代码变更列表
     - 变更与异常的关联说明
     - 修复建议
   - **发版影响评估**：
     - 总体影响评估（高风险/中风险/低风险）
     - 建议措施（继续观察/回滚/修复）

3. **报告优化**
   - 使用表格统一展示聚类结果和差异分析
   - 使用对比表格展示发版前后的变化
   - 使用代码块展示代码变更
   - 添加目录和章节导航
   - 使用颜色标记（如红色标记新增异常，绿色标记消失的正常模式）

**输出**：完整的Markdown格式版本比对报告

---

### 流程示意图

```
发版时间点确定
    ↓
[阶段一] 时间范围与过滤条件确定
    ├─ 确定发版前后时间段
    └─ 确定过滤条件
    ↓
[阶段二] 发版前日志聚类分析
    ├─ 确定索引集 (list_index_sets)
    ├─ 查询发版前日志 (search_logs)
    ├─ 多维度聚类分析 (analyze_field)
    └─ 生成发版前聚类结果
    ↓
[阶段三] 发版后日志聚类分析
    ├─ 查询发版后日志 (search_logs)
    ├─ 多维度聚类分析 (analyze_field)
    └─ 生成发版后聚类结果
    ↓
[阶段四] 聚类结果比对分析
    ├─ 差异识别（新增/消失/变化）
    ├─ 异常模式筛选
    └─ 影响范围分析
    ↓
[阶段五] 代码变更关联分析
    ├─ 提取代码定位信息
    ├─ 代码变更查询
    ├─ 变更影响分析
    └─ 生成变更分析报告
    ↓
[阶段六] 版本比对报告生成
    ├─ 整合比对结果
    ├─ 生成Markdown报告
    └─ 报告优化
    ↓
输出：完整的版本比对报告
```

---

## 技术实现要点

### MCP工具使用

#### 日志查询工具
- `bkmonitor-log-bkop_list_index_sets` - 获取索引集列表
- `bkmonitor-log-bkop_get_index_set_fields` - 获取索引集字段
- `bkmonitor-log-bkop_search_logs` - 搜索日志
- `bkmonitor-log-bkop_analyze_field` - 多维度字段分析（核心工具）
- `bkmonitor-log-bkop_search_index_set_context` - 获取日志上下文

#### 告警查询工具
- `bkmonitor-alarm_list_alerts` - 获取告警列表
- `bkmonitor-alarm_get_alert_info` - 获取告警详情

#### 指标查询工具
- `bkmonitor-metrics-bkop_execute_range_query` - 执行PromQL查询

#### 图表生成工具
- `mcp-server-chart_generate_line_chart` - 生成时序折线图

### 关键处理逻辑

#### 时间范围处理
- `analyze_field` 工具的时间范围限制为1天（86400秒）
- 如果查询时间范围超过1天，需要拆分为多个批次
- 每个批次独立查询，最后合并结果

#### 查询字符串构建
- 使用Lucene查询语法
- 支持多条件组合：`field1:value1 AND field2:value2`
- 支持多值匹配：`field:(value1 OR value2)`

#### 多维度分析策略
- **分组字段**：按业务维度分组（如服务、模块、文件）
- **拆分字段**：按技术维度拆分（如日志级别、错误类型）
- **统计方法**：使用 `AVG`、`SUM` 等聚合方法

#### 代码定位策略
- 从日志字段中提取代码定位信息（`code_file`, `line_number`）
- 在代码库中定位对应文件和代码行
- 提取代码片段（包含上下文）

### 报告生成规范

#### Markdown格式
- 使用标准Markdown语法
- 使用表格统一展示统计数据
- 使用代码块展示代码片段
- 嵌入图片（使用相对路径）

#### 报告结构
1. **摘要部分**：场景说明、关键发现
2. **详细分析**：分章节展示分析结果
3. **结论建议**：总结和行动建议

#### 图表嵌入
- 图表保存为PNG格式
- 使用相对路径引用
- 图表标题和说明清晰

---

## 总结

本文档描述了三个核心日志分析场景的完整流程：

1. **场景一：日志聚类告警驱动的根因分析**
   - 从告警触发到代码定位的完整链路
   - 自动化的异常模式识别和统计分析

2. **场景二：告警驱动的日志定位与代码问题诊断**
   - 基于告警维度的日志快速定位
   - 日志上下文分析和代码问题诊断

3. **场景三：日志版本比对与发版影响分析**
   - 发版前后日志聚类的比对分析
   - 代码变更与日志异常的关联分析

每个场景都包含：
- **场景说明**：场景描述、核心价值、适用场景
- **用户故事**：角色、需求、验收标准
- **流程处理方案**：分阶段的详细处理步骤
- **流程示意图**：可视化的处理流程

这些场景充分利用了蓝鲸监控的日志、告警、指标等MCP能力，实现了从告警到代码的完整分析链路，为运维和开发人员提供了强大的问题定位和根因分析能力。

---

**文档版本**：v1.0  
**更新日期**：2025-01-XX  
**适用平台**：蓝鲸监控平台

