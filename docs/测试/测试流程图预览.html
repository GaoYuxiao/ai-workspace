<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•æµç¨‹å›¾é¢„è§ˆ</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            padding: 30px;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        h2 {
            color: #555;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            font-size: 1.8em;
        }
        
        h3 {
            color: #666;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        
        .diagram-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
            overflow-x: auto;
        }
        
        .mermaid {
            display: flex;
            justify-content: center;
            background: white;
            padding: 20px;
            border-radius: 6px;
        }
        
        .section {
            margin-bottom: 50px;
        }
        
        .description {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }
        
        .description ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .description li {
            margin: 5px 0;
            color: #555;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 10px 20px;
            background: #e9ecef;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .tab:hover {
            background: #dee2e6;
        }
        
        .tab.active {
            background: #667eea;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #FF9800;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª æµ‹è¯•æµç¨‹å¯è§†åŒ–</h1>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('basic')">åŸºç¡€æµç¨‹å›¾</button>
            <button class="tab" onclick="showTab('detailed')">è¯¦ç»†æµç¨‹å›¾</button>
            <button class="tab" onclick="showTab('parallel')">å¹¶è¡Œå¤„ç†</button>
            <button class="tab" onclick="showTab('exception')">å¼‚å¸¸å¤„ç†</button>
        </div>
        
        <!-- åŸºç¡€æµç¨‹å›¾ -->
        <div id="basic" class="tab-content active">
            <h2>ğŸ“Š å®Œæ•´æµ‹è¯•æµç¨‹ï¼ˆåŸºç¡€ç‰ˆï¼‰</h2>
            <div class="diagram-container">
                <div class="mermaid">
flowchart TD
    Start([æµ‹è¯•å¯åŠ¨]) --> Generate[æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ]
    Generate --> Execute[æ‰§è¡Œæµ‹è¯•]
    Execute --> MCP[MCPè¿è¡Œå¹¶è®°å½•]
    MCP --> Result[æµ‹è¯•ç»“æœ]
    Result --> Visualize[å¯è§†åŒ–æŠ¥å‘Š]
    Visualize --> Review[äººå·¥æ ¡éªŒå®¡æ ¸]
    Review --> Pass{å®¡æ ¸é€šè¿‡?}
    Pass -->|æ˜¯| End([å®Œæˆ])
    Pass -->|å¦| Fix[é—®é¢˜ä¿®å¤]
    Fix --> Execute
    
    style Start fill:#e1f5ff
    style Generate fill:#fff4e1
    style Execute fill:#ffe1f5
    style MCP fill:#e1ffe1
    style Result fill:#f5e1ff
    style Visualize fill:#ffe1e1
    style Review fill:#ffffe1
    style End fill:#e1f5ff
    style Fix fill:#ffcccc
                </div>
            </div>
            
            <div class="description">
                <h3>æµç¨‹è¯´æ˜</h3>
                <ul>
                    <li><strong>æµ‹è¯•å¯åŠ¨</strong>ï¼šè§¦å‘æµ‹è¯•ä»»åŠ¡ï¼Œåˆå§‹åŒ–æµ‹è¯•ç¯å¢ƒï¼Œå‡†å¤‡æµ‹è¯•æ•°æ®</li>
                    <li><strong>æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ</strong>ï¼šæ ¹æ®éœ€æ±‚ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼Œå®šä¹‰æµ‹è¯•åœºæ™¯å’Œé¢„æœŸç»“æœ</li>
                    <li><strong>æ‰§è¡Œæµ‹è¯•</strong>ï¼šè¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡ŒåŠŸèƒ½æµ‹è¯•ï¼Œæ”¶é›†æ‰§è¡Œæ—¥å¿—</li>
                    <li><strong>MCPè¿è¡Œå¹¶è®°å½•</strong>ï¼šè°ƒç”¨MCPå·¥å…·æ‰§è¡Œæ“ä½œï¼Œè®°å½•MCPè°ƒç”¨æ—¥å¿—ï¼Œä¿å­˜æ‰§è¡Œç»“æœ</li>
                    <li><strong>æµ‹è¯•ç»“æœ</strong>ï¼šæ±‡æ€»æµ‹è¯•æ•°æ®ï¼Œåˆ†ææµ‹è¯•ç»“æœï¼Œç”ŸæˆåŸå§‹æµ‹è¯•æŠ¥å‘Š</li>
                    <li><strong>å¯è§†åŒ–æŠ¥å‘Š</strong>ï¼šç”Ÿæˆå›¾è¡¨å’Œç»Ÿè®¡ä¿¡æ¯ï¼Œæ ¼å¼åŒ–æµ‹è¯•æŠ¥å‘Šï¼Œå±•ç¤ºå…³é”®æŒ‡æ ‡</li>
                    <li><strong>äººå·¥æ ¡éªŒå®¡æ ¸</strong>ï¼šäººå·¥å®¡æŸ¥æµ‹è¯•ç»“æœï¼ŒéªŒè¯æŠ¥å‘Šå‡†ç¡®æ€§ï¼Œç¡®è®¤æµ‹è¯•è¦†ç›–åº¦</li>
                </ul>
            </div>
            
            <div class="info-box">
                <strong>æµç¨‹åˆ†æ”¯è¯´æ˜ï¼š</strong><br>
                â€¢ <strong>å®¡æ ¸é€šè¿‡</strong>ï¼šæµ‹è¯•æµç¨‹å®Œæˆï¼Œç»“æœå½’æ¡£<br>
                â€¢ <strong>å®¡æ ¸ä¸é€šè¿‡</strong>ï¼šè¿›å…¥é—®é¢˜ä¿®å¤æµç¨‹ï¼Œä¿®å¤åé‡æ–°æ‰§è¡Œæµ‹è¯•
            </div>
        </div>
        
        <!-- è¯¦ç»†æµç¨‹å›¾ -->
        <div id="detailed" class="tab-content">
            <h2>ğŸ” å®Œæ•´æµ‹è¯•æµç¨‹ï¼ˆè¯¦ç»†ç‰ˆï¼‰</h2>
            <div class="diagram-container">
                <div class="mermaid" id="detailed-main">
flowchart TD
    Start([æµ‹è¯•å¯åŠ¨]) --> Init[åˆå§‹åŒ–æµ‹è¯•ç¯å¢ƒ]
    Init --> Config[é…ç½®æµ‹è¯•å‚æ•°]
    Config --> Generate[æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ]
    
    Generate --> Case1[ç”ŸæˆåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹]
    Generate --> Case2[ç”Ÿæˆæ€§èƒ½æµ‹è¯•ç”¨ä¾‹]
    Generate --> Case3[ç”Ÿæˆé›†æˆæµ‹è¯•ç”¨ä¾‹]
    
    Case1 --> Execute[æ‰§è¡Œæµ‹è¯•]
    Case2 --> Execute
    Case3 --> Execute
    
    Execute --> RunScript[è¿è¡Œæµ‹è¯•è„šæœ¬]
    RunScript --> CollectLog[æ”¶é›†æ‰§è¡Œæ—¥å¿—]
    CollectLog --> MCP[MCPè¿è¡Œå¹¶è®°å½•]
    
    MCP --> MCPCall[è°ƒç”¨MCPå·¥å…·]
    MCPCall --> MCPRecord[è®°å½•MCPè°ƒç”¨æ—¥å¿—]
    MCPRecord --> MCPResult[ä¿å­˜MCPæ‰§è¡Œç»“æœ]
    
    MCPResult --> Result[æµ‹è¯•ç»“æœ]
    Result --> Analyze[åˆ†ææµ‹è¯•æ•°æ®]
    Analyze --> Aggregate[æ±‡æ€»æµ‹è¯•ç»“æœ]
    
    Aggregate --> Visualize[å¯è§†åŒ–æŠ¥å‘Š]
    Visualize --> Chart[ç”Ÿæˆå›¾è¡¨]
    Visualize --> Stats[ç”Ÿæˆç»Ÿè®¡æ•°æ®]
    Chart --> Report[æ ¼å¼åŒ–æŠ¥å‘Š]
    Stats --> Report
    
    Report --> Review[äººå·¥æ ¡éªŒå®¡æ ¸]
    Review --> Check1[æ£€æŸ¥æµ‹è¯•è¦†ç›–åº¦]
    Review --> Check2[éªŒè¯ç»“æœå‡†ç¡®æ€§]
    Review --> Check3[ç¡®è®¤æŠ¥å‘Šå®Œæ•´æ€§]
    
    Check1 --> Decision{å®¡æ ¸é€šè¿‡?}
    Check2 --> Decision
    Check3 --> Decision
    
    Decision -->|æ˜¯| Archive[å½’æ¡£æµ‹è¯•ç»“æœ]
    Decision -->|å¦| Fix[é—®é¢˜ä¿®å¤]
    
    Archive --> End([æµ‹è¯•å®Œæˆ])
    Fix --> AnalyzeIssue[åˆ†æé—®é¢˜åŸå› ]
    AnalyzeIssue --> UpdateCase[æ›´æ–°æµ‹è¯•ç”¨ä¾‹]
    UpdateCase --> Execute
    
    style Start fill:#4CAF50,color:#fff
    style Generate fill:#2196F3,color:#fff
    style Execute fill:#FF9800,color:#fff
    style MCP fill:#9C27B0,color:#fff
    style Result fill:#F44336,color:#fff
    style Visualize fill:#00BCD4,color:#fff
    style Review fill:#FFC107,color:#000
    style End fill:#4CAF50,color:#fff
    style Fix fill:#E91E63,color:#fff
                </div>
            </div>
            
            <h3>å„é˜¶æ®µè¯¦ç»†è¯´æ˜</h3>
            
            <h4>é˜¶æ®µ1: æµ‹è¯•å¯åŠ¨</h4>
            <div class="diagram-container">
                <div class="mermaid">
flowchart LR
    A[æµ‹è¯•å¯åŠ¨] --> B[åˆå§‹åŒ–æµ‹è¯•ç¯å¢ƒ]
    B --> C[å‡†å¤‡æµ‹è¯•æ•°æ®]
    C --> D[é…ç½®æµ‹è¯•å‚æ•°]
    D --> E[éªŒè¯ç¯å¢ƒå°±ç»ª]
                </div>
            </div>
            
            <h4>é˜¶æ®µ2: æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ</h4>
            <div class="diagram-container">
                <div class="mermaid">
flowchart LR
    A[éœ€æ±‚åˆ†æ] --> B[åœºæ™¯è®¾è®¡]
    B --> C[ç”¨ä¾‹ç¼–å†™]
    C --> D[ç”¨ä¾‹è¯„å®¡]
    D --> E[ç”¨ä¾‹å…¥åº“]
                </div>
            </div>
            
            <h4>é˜¶æ®µ3: æ‰§è¡Œæµ‹è¯•</h4>
            <div class="diagram-container">
                <div class="mermaid">
flowchart LR
    A[æ‰§è¡Œæµ‹è¯•] --> B[è¿è¡Œè„šæœ¬]
    B --> C[æ”¶é›†æ—¥å¿—]
    C --> D[æ•è·å¼‚å¸¸]
    D --> E[è®°å½•ç»“æœ]
                </div>
            </div>
            
            <h4>é˜¶æ®µ4: MCPè¿è¡Œå¹¶è®°å½•</h4>
            <div class="diagram-container">
                <div class="mermaid">
flowchart LR
    A[MCPè°ƒç”¨] --> B[æ‰§è¡Œæ“ä½œ]
    B --> C[è®°å½•è¯·æ±‚]
    C --> D[è®°å½•å“åº”]
    D --> E[ä¿å­˜ç»“æœ]
                </div>
            </div>
            
            <h4>é˜¶æ®µ5: æµ‹è¯•ç»“æœ</h4>
            <div class="diagram-container">
                <div class="mermaid">
flowchart LR
    A[ç»“æœæ±‡æ€»] --> B[æ•°æ®åˆ†æ]
    B --> C[é—®é¢˜è¯†åˆ«]
    C --> D[ç»“æœåˆ†ç±»]
    D --> E[ç”ŸæˆæŠ¥å‘Š]
                </div>
            </div>
            
            <h4>é˜¶æ®µ6: å¯è§†åŒ–æŠ¥å‘Š</h4>
            <div class="diagram-container">
                <div class="mermaid">
flowchart LR
    A[æ•°æ®æå–] --> B[å›¾è¡¨ç”Ÿæˆ]
    B --> C[ç»Ÿè®¡è®¡ç®—]
    C --> D[æŠ¥å‘Šæ ¼å¼åŒ–]
    D --> E[æŠ¥å‘Šè¾“å‡º]
                </div>
            </div>
            
            <h4>é˜¶æ®µ7: äººå·¥æ ¡éªŒå®¡æ ¸</h4>
            <div class="diagram-container">
                <div class="mermaid">
flowchart LR
    A[æŠ¥å‘Šå®¡æŸ¥] --> B[ç»“æœéªŒè¯]
    B --> C[è¦†ç›–åº¦æ£€æŸ¥]
    C --> D[è´¨é‡è¯„ä¼°]
    D --> E[å®¡æ ¸å†³ç­–]
                </div>
            </div>
        </div>
        
        <!-- å¹¶è¡Œå¤„ç†æµç¨‹ -->
        <div id="parallel" class="tab-content">
            <h2>âš¡ å¹¶è¡Œå¤„ç†æµç¨‹</h2>
            <div class="diagram-container">
                <div class="mermaid">
flowchart TD
    Start([æµ‹è¯•å¯åŠ¨]) --> Parallel{å¹¶è¡Œæ‰§è¡Œ}
    
    Parallel --> P1[åŠŸèƒ½æµ‹è¯•]
    Parallel --> P2[æ€§èƒ½æµ‹è¯•]
    Parallel --> P3[é›†æˆæµ‹è¯•]
    
    P1 --> MCP1[MCPè®°å½•1]
    P2 --> MCP2[MCPè®°å½•2]
    P3 --> MCP3[MCPè®°å½•3]
    
    MCP1 --> Merge[ç»“æœåˆå¹¶]
    MCP2 --> Merge
    MCP3 --> Merge
    
    Merge --> Visualize[å¯è§†åŒ–æŠ¥å‘Š]
    Visualize --> Review[äººå·¥å®¡æ ¸]
    Review --> End([å®Œæˆ])
                </div>
            </div>
            
            <div class="success-box">
                <strong>å¹¶è¡Œå¤„ç†ä¼˜åŠ¿ï¼š</strong><br>
                â€¢ æé«˜æµ‹è¯•æ‰§è¡Œæ•ˆç‡<br>
                â€¢ å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æº<br>
                â€¢ ç¼©çŸ­æ•´ä½“æµ‹è¯•æ—¶é—´<br>
                â€¢ æ”¯æŒå¤šåœºæ™¯åŒæ—¶éªŒè¯
            </div>
        </div>
        
        <!-- å¼‚å¸¸å¤„ç†æµç¨‹ -->
        <div id="exception" class="tab-content">
            <h2>âš ï¸ å¼‚å¸¸å¤„ç†æµç¨‹</h2>
            <div class="diagram-container">
                <div class="mermaid">
flowchart TD
    Execute[æ‰§è¡Œæµ‹è¯•] --> Error{å‘ç”Ÿé”™è¯¯?}
    Error -->|æ˜¯| LogError[è®°å½•é”™è¯¯]
    Error -->|å¦| Continue[ç»§ç»­æ‰§è¡Œ]
    
    LogError --> ErrorType{é”™è¯¯ç±»å‹}
    ErrorType -->|å¯æ¢å¤| Retry[é‡è¯•]
    ErrorType -->|ä¸å¯æ¢å¤| Skip[è·³è¿‡]
    ErrorType -->|ä¸¥é‡| Stop[åœæ­¢æµ‹è¯•]
    
    Retry --> Execute
    Skip --> Continue
    Stop --> Report[ç”Ÿæˆé”™è¯¯æŠ¥å‘Š]
    Continue --> Result[æµ‹è¯•ç»“æœ]
    Report --> Review[äººå·¥å®¡æ ¸]
                </div>
            </div>
            
            <h3>å…³é”®æŒ‡æ ‡ç›‘æ§</h3>
            <div class="diagram-container">
                <div class="mermaid">
flowchart LR
    A[æµ‹è¯•æ‰§è¡Œç‡] --> D[ç›‘æ§é¢æ¿]
    B[é€šè¿‡ç‡] --> D
    C[è¦†ç›–ç‡] --> D
    E[æ‰§è¡Œæ—¶é•¿] --> D
    F[é”™è¯¯ç‡] --> D
    
    D --> G[å®æ—¶å‘Šè­¦]
    D --> H[è¶‹åŠ¿åˆ†æ]
                </div>
            </div>
            
            <div class="warning-box">
                <strong>å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼š</strong><br>
                â€¢ <strong>å¯æ¢å¤é”™è¯¯</strong>ï¼šè‡ªåŠ¨é‡è¯•ï¼Œæœ€å¤š3æ¬¡<br>
                â€¢ <strong>ä¸å¯æ¢å¤é”™è¯¯</strong>ï¼šè·³è¿‡å½“å‰ç”¨ä¾‹ï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–æµ‹è¯•<br>
                â€¢ <strong>ä¸¥é‡é”™è¯¯</strong>ï¼šç«‹å³åœæ­¢æµ‹è¯•ï¼Œç”Ÿæˆé”™è¯¯æŠ¥å‘Šï¼Œé€šçŸ¥ç›¸å…³äººå‘˜
            </div>
        </div>
    </div>
    
    <script>
        // åˆå§‹åŒ– Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            securityLevel: 'loose'
        });
        
        // Tabåˆ‡æ¢åŠŸèƒ½
        function showTab(tabName) {
            // éšè—æ‰€æœ‰tabå†…å®¹
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => {
                content.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰tabçš„activeçŠ¶æ€
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„tabå†…å®¹
            const targetContent = document.getElementById(tabName);
            targetContent.classList.add('active');
            
            // æ¿€æ´»å¯¹åº”çš„tabæŒ‰é’®
            event.target.classList.add('active');
            
            // å¦‚æœåˆ‡æ¢åˆ°è¯¦ç»†ç‰ˆï¼Œå»¶è¿Ÿæ£€æŸ¥å¹¶æ¸²æŸ“æœªæ¸²æŸ“çš„å›¾è¡¨
            if (tabName === 'detailed') {
                setTimeout(() => {
                    const detailedDiagrams = targetContent.querySelectorAll('.mermaid');
                    detailedDiagrams.forEach((diagram) => {
                        // æ£€æŸ¥æ˜¯å¦å·²æ¸²æŸ“ï¼ˆæ˜¯å¦æœ‰svgå…ƒç´ ï¼‰
                        const hasSvg = diagram.querySelector('svg') !== null;
                        if (!hasSvg) {
                            // å¦‚æœæœªæ¸²æŸ“ï¼Œå°è¯•æ‰‹åŠ¨è§¦å‘
                            const graphDefinition = diagram.textContent.trim();
                            if (graphDefinition) {
                                // åˆ›å»ºä¸€ä¸ªæ–°çš„divæ¥æ¸²æŸ“
                                const newDiv = document.createElement('div');
                                newDiv.className = 'mermaid';
                                newDiv.textContent = graphDefinition;
                                diagram.parentNode.replaceChild(newDiv, diagram);
                                // è§¦å‘mermaidé‡æ–°æ¸²æŸ“
                                mermaid.contentLoaded();
                            }
                        }
                    });
                }, 300);
            }
        }
    </script>
</body>
</html>

