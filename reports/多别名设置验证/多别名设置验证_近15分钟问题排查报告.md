# å¤šåˆ«åè®¾ç½®éªŒè¯ - è¿‘15åˆ†é’Ÿé—®é¢˜æŽ’æŸ¥æŠ¥å‘Š

## ðŸ“Š æ‰§è¡Œæ‘˜è¦

**åˆ†æžæ—¶é—´èŒƒå›´**: è¿‘15åˆ†é’Ÿ  
**ä¸šåŠ¡ID**: 2 (è“é²¸ä¸šåŠ¡)  
**ç´¢å¼•é›†ID**: 2545 (å¤šåˆ«åè®¾ç½®éªŒè¯)  
**é—®é¢˜è®¾å¤‡**: 30.189.38.149 (bk_host_id: 96568)  
**æ€»é”™è¯¯æ—¥å¿—æ•°**: 549æ¡ï¼ˆCRITICAL + ERROR + WARNINGï¼‰

---

## ðŸ”´ æ ¸å¿ƒé—®é¢˜æ¸…å•

### 1. æ”¯ä»˜ç³»ç»Ÿå®Œå…¨ä¸å¯ç”¨ âš ï¸ **æœ€é«˜ä¼˜å…ˆçº§**

**é—®é¢˜æè¿°**: Payment system completely unavailable  
**å‡ºçŽ°æ¬¡æ•°**: å¤šæ¬¡ï¼ˆåœ¨å¤šä¸ªæœåŠ¡æ¨¡å—ä¸­ï¼‰  
**å½±å“èŒƒå›´**: 
- `api_gateway.py`
- `order_handler.py`
- `notification_service.py`
- `user_service.py`
- `database_connector.py`
- `data_processor.py`
- `payment_processor.py`
- `cache_manager.py`
- `auth_middleware.py`

**æ—¶é—´åˆ†å¸ƒ**: æ•´ä¸ª15åˆ†é’Ÿæ—¶é—´æ®µå†…æŒç»­å‡ºçŽ°  
**å»ºè®®**: ç«‹å³æ£€æŸ¥æ”¯ä»˜ç³»ç»ŸæœåŠ¡çŠ¶æ€å’Œç½‘ç»œè¿žæŽ¥

### 2. æ•°æ®åº“ä¸»ä»ŽåŒæ­¥å¤±è´¥ âš ï¸ **é«˜ä¼˜å…ˆçº§**

**é—®é¢˜æè¿°**: Database master-slave sync failed, data may be inconsistent  
**å‡ºçŽ°æ¬¡æ•°**: å¤šæ¬¡  
**å½±å“æ¨¡å—**:
- `database_connector.py`
- `user_service.py`
- `payment_processor.py`
- `cache_manager.py`
- `file_uploader.py`

**é£Žé™©**: æ•°æ®å¯èƒ½ä¸ä¸€è‡´ï¼Œéœ€è¦ç«‹å³å¤„ç†  
**å»ºè®®**: æ£€æŸ¥æ•°æ®åº“ä¸»ä»Žå¤åˆ¶çŠ¶æ€ï¼ŒéªŒè¯ç½‘ç»œè¿žæŽ¥

### 3. ç³»ç»Ÿå†…å­˜ä¸è¶³ âš ï¸ **é«˜ä¼˜å…ˆçº§**

**é—®é¢˜æè¿°**: System memory insufficient, service will stop  
**å‡ºçŽ°æ¬¡æ•°**: å¤šæ¬¡  
**å½±å“æ¨¡å—**:
- `api_gateway.py`
- `notification_service.py`
- `database_connector.py`
- `user_service.py`
- `payment_processor.py`

**å…³é”®å‘çŽ°**: 
- ç›‘æŽ§æ˜¾ç¤ºç³»ç»Ÿå†…å­˜ä½¿ç”¨çŽ‡çº¦43-44%ï¼Œä½†åº”ç”¨å±‚æŠ¥å‘Šå†…å­˜ä¸è¶³
- å¯èƒ½åŽŸå› ï¼š
  - åº”ç”¨å†…å­˜é…ç½®é—®é¢˜
  - å†…å­˜æ³„æ¼
  - ç¼“å­˜å ç”¨è¿‡å¤š

**å»ºè®®**: 
- æ£€æŸ¥åº”ç”¨å†…å­˜é…ç½®
- æ£€æŸ¥æ˜¯å¦æœ‰å†…å­˜æ³„æ¼
- ä¼˜åŒ–ç¼“å­˜ä½¿ç”¨

### 4. æ ¸å¿ƒæœåŠ¡å´©æºƒ âš ï¸ **é«˜ä¼˜å…ˆçº§**

**é—®é¢˜æè¿°**: Core service crashed, restarting  
**å‡ºçŽ°æ¬¡æ•°**: å¤šæ¬¡  
**å½±å“æ¨¡å—**:
- `database_connector.py`
- `cache_manager.py`
- `api_gateway.py`
- `data_processor.py`

**å»ºè®®**: æ£€æŸ¥æœåŠ¡æ—¥å¿—ï¼Œåˆ†æžå´©æºƒåŽŸå› 

### 5. å®‰å…¨æ¼æ´žæ£€æµ‹åˆ°å¼‚å¸¸è®¿é—® âš ï¸ **é«˜ä¼˜å…ˆçº§**

**é—®é¢˜æè¿°**: Security vulnerability detected abnormal access  
**å‡ºçŽ°æ¬¡æ•°**: å¤šæ¬¡  
**å½±å“æ¨¡å—**:
- `notification_service.py`
- `api_gateway.py`
- `order_handler.py`
- `cache_manager.py`

**å»ºè®®**: ç«‹å³è¿›è¡Œå®‰å…¨å®¡è®¡ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æœªæŽˆæƒè®¿é—®

### 6. æ•°æ®åº“è¿žæŽ¥é—®é¢˜ âš ï¸ **é«˜ä¼˜å…ˆçº§**

**é—®é¢˜æè¿°**: 
- Database connection failed: error=network error
- Database connection failed: error=connection timeout
- Database connection failed: error=invalid credentials
- Database connection timeout, retrying: attempt=1-5

**å‡ºçŽ°æ¬¡æ•°**: å¤§é‡  
**å½±å“æ¨¡å—**: å‡ ä¹Žæ‰€æœ‰æ¨¡å—  
**å»ºè®®**: 
- æ£€æŸ¥æ•°æ®åº“æœåŠ¡å™¨çŠ¶æ€
- æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
- éªŒè¯æ•°æ®åº“å‡­è¯
- æ£€æŸ¥æ•°æ®åº“è¿žæŽ¥æ± é…ç½®

### 7. ç£ç›˜ç©ºé—´ä¸è¶³ âš ï¸ **ä¸­ä¼˜å…ˆçº§**

**é—®é¢˜æè¿°**: Disk space low: usage=75%-94%  
**å‡ºçŽ°æ¬¡æ•°**: å¤šæ¬¡  
**å…³é”®å‘çŽ°**: 
- ç›‘æŽ§æ˜¾ç¤ºæ•´ä½“ç£ç›˜ä½¿ç”¨çŽ‡çº¦34%ï¼Œä½†æ—¥å¿—æ˜¾ç¤ºç‰¹å®šåˆ†åŒºä½¿ç”¨çŽ‡é«˜è¾¾94%
- å¯èƒ½ `/data` åˆ†åŒºç©ºé—´ä¸è¶³

**å»ºè®®**: 
- æ£€æŸ¥å„ä¸ªåˆ†åŒºçš„ç£ç›˜ä½¿ç”¨æƒ…å†µï¼ˆç‰¹åˆ«æ˜¯ `/data` åˆ†åŒºï¼‰
- æ¸…ç†ä¸å¿…è¦çš„æ–‡ä»¶
- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶å¤§å°

---

## ðŸ–¥ï¸ è®¾å¤‡èµ„æºç›‘æŽ§åˆ†æž

### ä¸»è¦è®¾å¤‡ä¿¡æ¯
- **æœåŠ¡å™¨IP**: 30.189.38.149
- **ä¸»æœºID**: 96568
- **äº‘åŒºåŸŸID**: 0
- **æ—¥å¿—è·¯å¾„**: /data/bklog_test/server.log

### èµ„æºç›‘æŽ§æ•°æ®ï¼ˆè¿‘15åˆ†é’Ÿï¼‰

#### 1. CPU ä½¿ç”¨çŽ‡ âœ… **æ­£å¸¸**

- **å¹³å‡å€¼**: çº¦20-22%
- **æœ€å¤§å€¼**: çº¦1.30%
- **æœ€å°å€¼**: çº¦0.37%
- **çŠ¶æ€**: âœ… æ­£å¸¸
- **è¶‹åŠ¿**: ç¨³å®šï¼Œæ— æ˜Žæ˜¾å¼‚å¸¸
- **å»ºè®®**: CPUèµ„æºå……è¶³ï¼Œä¸æ˜¯ç“¶é¢ˆ

#### 2. å†…å­˜ä½¿ç”¨çŽ‡ âš ï¸ **éœ€é‡ç‚¹å…³æ³¨**

- **å¹³å‡å€¼**: çº¦43-44%
- **æœ€å¤§å€¼**: çº¦2.64%
- **æœ€å°å€¼**: çº¦2.61%
- **çŠ¶æ€**: âš ï¸ éœ€å…³æ³¨
- **è¶‹åŠ¿**: ç¨³å®šåœ¨43-44%ä¹‹é—´
- **å…³é”®é—®é¢˜**: 
  - è™½ç„¶ç³»ç»Ÿå†…å­˜ä½¿ç”¨çŽ‡ä¸é«˜ï¼Œä½†åº”ç”¨å±‚æŠ¥å‘Šå†…å­˜ä¸è¶³
  - å¯èƒ½å­˜åœ¨åº”ç”¨å†…å­˜é…ç½®é™åˆ¶ã€å†…å­˜ç¢Žç‰‡åŒ–æˆ–ç¼“å­˜å ç”¨è¿‡å¤š
- **å»ºè®®**: 
  - æ£€æŸ¥åº”ç”¨JVM/è¿›ç¨‹å†…å­˜é…ç½®
  - æ£€æŸ¥ç¼“å­˜ä½¿ç”¨æƒ…å†µ
  - ç›‘æŽ§åº”ç”¨è¿›ç¨‹å†…å­˜ä½¿ç”¨
  - æ£€æŸ¥æ˜¯å¦æœ‰å†…å­˜æ³„æ¼

#### 3. ç£ç›˜ä½¿ç”¨çŽ‡ âš ï¸ **éœ€é‡ç‚¹å…³æ³¨**

- **å¹³å‡å€¼**: çº¦34%ï¼ˆæ•´ä½“ï¼‰
- **ç‰¹å®šåˆ†åŒº**: é«˜è¾¾94%ï¼ˆå¯èƒ½ `/data` åˆ†åŒºï¼‰
- **çŠ¶æ€**: âš ï¸ éœ€å…³æ³¨
- **è¶‹åŠ¿**: æ•´ä½“ç¨³å®šåœ¨34%å·¦å³ï¼Œä½†ç‰¹å®šåˆ†åŒºå¯èƒ½å·²æŽ¥è¿‘æ»¡è½½
- **å…³é”®é—®é¢˜**: 
  - ç›‘æŽ§æ˜¾ç¤ºæ•´ä½“ç£ç›˜ä½¿ç”¨çŽ‡æ­£å¸¸ï¼Œä½†æ—¥å¿—æ˜¾ç¤ºç‰¹å®šåˆ†åŒºä½¿ç”¨çŽ‡é«˜è¾¾94%
  - `/data/bklog_test/server.log` å¯èƒ½å ç”¨å¤§é‡ç©ºé—´
- **å»ºè®®**: 
  - ç«‹å³æ£€æŸ¥å„ä¸ªåˆ†åŒºçš„ä½¿ç”¨æƒ…å†µï¼ˆæ‰§è¡Œ `df -h`ï¼‰
  - é‡ç‚¹å…³æ³¨ `/data` åˆ†åŒº
  - æ¸…ç†ä¸å¿…è¦çš„æ—¥å¿—æ–‡ä»¶
  - æ£€æŸ¥æ˜¯å¦æœ‰å¤§æ–‡ä»¶å ç”¨ç©ºé—´
  - è€ƒè™‘æ—¥å¿—è½®è½¬å’Œå½’æ¡£ç­–ç•¥

#### 4. ç£ç›˜IOä½¿ç”¨çŽ‡ âœ… **æ­£å¸¸**

- **å¹³å‡å€¼**: çº¦1.8-2%
- **æœ€å¤§å€¼**: çº¦0.02%
- **æœ€å°å€¼**: çº¦0.01%
- **çŠ¶æ€**: âœ… æ­£å¸¸
- **è¶‹åŠ¿**: ç¨³å®šï¼Œæ— æ˜Žæ˜¾å¼‚å¸¸
- **å»ºè®®**: ç£ç›˜IOä¸æ˜¯ç“¶é¢ˆ

#### 5. ç³»ç»Ÿè´Ÿè½½ âš ï¸ **éœ€æ£€æŸ¥**

- **çŠ¶æ€**: æ— æ•°æ®
- **å»ºè®®**: éœ€è¦è¿›ä¸€æ­¥æ£€æŸ¥ç³»ç»Ÿè´Ÿè½½æƒ…å†µ

---

## ðŸŽ¯ éœ€è¦å…³æ³¨çš„è®¾å¤‡èµ„æºï¼ˆä¼˜å…ˆçº§æŽ’åºï¼‰

### ðŸ”´ ç«‹å³æ£€æŸ¥çš„èµ„æºï¼ˆç´§æ€¥ï¼‰

#### 1. **ç£ç›˜ç©ºé—´ï¼ˆç‰¹å®šåˆ†åŒºï¼‰** âš ï¸ **æœ€é«˜ä¼˜å…ˆçº§**

**åŽŸå› **: 
- ç‰¹å®šåˆ†åŒºä½¿ç”¨çŽ‡é«˜è¾¾94%ï¼Œå¯èƒ½å¯¼è‡´æœåŠ¡åœæ­¢
- `/data` åˆ†åŒºå¯èƒ½å·²æŽ¥è¿‘æ»¡è½½
- æ—¥å¿—æ–‡ä»¶å¯èƒ½å ç”¨å¤§é‡ç©ºé—´

**æ£€æŸ¥å‘½ä»¤**:
```bash
# æ£€æŸ¥å„åˆ†åŒºä½¿ç”¨æƒ…å†µ
df -h

# æ£€æŸ¥ /data åˆ†åŒºè¯¦ç»†ä½¿ç”¨æƒ…å†µ
df -h /data

# æŸ¥æ‰¾å¤§æ–‡ä»¶
du -sh /data/* | sort -rh | head -20

# æ£€æŸ¥æ—¥å¿—æ–‡ä»¶å¤§å°
ls -lh /data/bklog_test/server.log
```

**å¤„ç†å»ºè®®**:
- ç«‹å³æ¸…ç†ä¸å¿…è¦çš„æ—¥å¿—æ–‡ä»¶
- æ£€æŸ¥æ˜¯å¦æœ‰å¤§æ–‡ä»¶å¯ä»¥åˆ é™¤
- è€ƒè™‘æ—¥å¿—è½®è½¬å’Œå½’æ¡£
- å¦‚æžœç©ºé—´ä¸è¶³ï¼Œè€ƒè™‘æ‰©å®¹æˆ–è¿ç§»æ•°æ®

#### 2. **åº”ç”¨å†…å­˜é…ç½®** âš ï¸ **é«˜ä¼˜å…ˆçº§**

**åŽŸå› **: 
- ç³»ç»Ÿå†…å­˜ä½¿ç”¨çŽ‡æ­£å¸¸ï¼ˆ43%ï¼‰ï¼Œä½†åº”ç”¨å±‚æŠ¥å‘Šå†…å­˜ä¸è¶³
- å¯èƒ½æ˜¯åº”ç”¨å†…å­˜é…ç½®é™åˆ¶å¯¼è‡´

**æ£€æŸ¥å‘½ä»¤**:
```bash
# æ£€æŸ¥åº”ç”¨è¿›ç¨‹å†…å­˜ä½¿ç”¨
ps aux | grep -E "python|java|node" | awk '{print $2, $4, $11}'

# æ£€æŸ¥JVMå†…å­˜é…ç½®ï¼ˆå¦‚æžœæ˜¯Javaåº”ç”¨ï¼‰
jps -v | grep -E "Xmx|Xms"

# æ£€æŸ¥ç³»ç»Ÿå†…å­˜è¯¦æƒ…
free -h

# æ£€æŸ¥å†…å­˜ä½¿ç”¨Topè¿›ç¨‹
top -b -n 1 | head -20
```

**å¤„ç†å»ºè®®**:
- æ£€æŸ¥åº”ç”¨è¿›ç¨‹çš„å†…å­˜é™åˆ¶é…ç½®
- æ£€æŸ¥JVMå †å†…å­˜é…ç½®ï¼ˆå¦‚æžœæ˜¯Javaåº”ç”¨ï¼‰
- æ£€æŸ¥æ˜¯å¦æœ‰å†…å­˜æ³„æ¼
- ä¼˜åŒ–ç¼“å­˜ä½¿ç”¨ç­–ç•¥

#### 3. **æ•°æ®åº“è¿žæŽ¥çŠ¶æ€** ðŸ”´ **é«˜ä¼˜å…ˆçº§**

**åŽŸå› **: 
- å¤§é‡æ•°æ®åº“è¿žæŽ¥å¤±è´¥å’Œè¶…æ—¶
- å½±å“æ‰€æœ‰æœåŠ¡çš„æ­£å¸¸è¿è¡Œ

**æ£€æŸ¥å‘½ä»¤**:
```bash
# æ£€æŸ¥æ•°æ®åº“è¿žæŽ¥æ•°
netstat -an | grep :3306 | wc -l

# æ£€æŸ¥æ•°æ®åº“è¿žæŽ¥çŠ¶æ€
mysqladmin -u root -p status

# æ£€æŸ¥æ•°æ®åº“è¿›ç¨‹åˆ—è¡¨
mysql -u root -p -e "SHOW PROCESSLIST;"
```

**å¤„ç†å»ºè®®**:
- æ£€æŸ¥æ•°æ®åº“æœåŠ¡å™¨çŠ¶æ€
- æ£€æŸ¥ç½‘ç»œè¿žæŽ¥è´¨é‡
- éªŒè¯æ•°æ®åº“å‡­è¯
- æ£€æŸ¥æ•°æ®åº“è¿žæŽ¥æ± é…ç½®
- ä¼˜åŒ–æ•°æ®åº“è¿žæŽ¥æ± å¤§å°

### ðŸŸ  æŒç»­ç›‘æŽ§çš„èµ„æºï¼ˆé‡è¦ï¼‰

#### 4. **å†…å­˜ä½¿ç”¨çŽ‡** âš ï¸

**ç›‘æŽ§æŒ‡æ ‡**:
- ç³»ç»Ÿå†…å­˜ä½¿ç”¨çŽ‡ï¼ˆå½“å‰43-44%ï¼‰
- åº”ç”¨è¿›ç¨‹å†…å­˜ä½¿ç”¨
- ç¼“å­˜å ç”¨æƒ…å†µ

**ç›‘æŽ§æŸ¥è¯¢**:
```promql
# å†…å­˜ä½¿ç”¨çŽ‡
avg(avg_over_time(bkmonitor:system:mem:pct_used[1m]))

# å†…å­˜å¯ç”¨é‡
avg(avg_over_time(bkmonitor:system:mem:usable[1m]))
```

**å‘Šè­¦é˜ˆå€¼**:
- è­¦å‘Š: > 85%
- ä¸¥é‡: > 95%

#### 5. **ç£ç›˜ä½¿ç”¨çŽ‡ï¼ˆå„åˆ†åŒºï¼‰** âš ï¸

**ç›‘æŽ§æŒ‡æ ‡**:
- æ•´ä½“ç£ç›˜ä½¿ç”¨çŽ‡ï¼ˆå½“å‰34%ï¼‰
- å„åˆ†åŒºä½¿ç”¨çŽ‡ï¼ˆé‡ç‚¹å…³æ³¨ `/data` åˆ†åŒºï¼‰

**ç›‘æŽ§æŸ¥è¯¢**:
```promql
# ç£ç›˜ä½¿ç”¨çŽ‡
avg(avg_over_time(bkmonitor:system:disk:in_use[1m]))
```

**å‘Šè­¦é˜ˆå€¼**:
- è­¦å‘Š: > 80%
- ä¸¥é‡: > 90%

#### 6. **CPUä½¿ç”¨çŽ‡** âœ…

**ç›‘æŽ§æŒ‡æ ‡**:
- CPUæ€»ä½¿ç”¨çŽ‡ï¼ˆå½“å‰20-22%ï¼Œæ­£å¸¸ï¼‰
- CPUè´Ÿè½½ï¼ˆéœ€æ£€æŸ¥ï¼‰

**ç›‘æŽ§æŸ¥è¯¢**:
```promql
# CPUä½¿ç”¨çŽ‡
avg(avg_over_time(bkmonitor:system:cpu_summary:usage[1m]))

# ç³»ç»Ÿè´Ÿè½½
avg(avg_over_time(bkmonitor:system:system:load:load5[5m]))
```

**å‘Šè­¦é˜ˆå€¼**:
- è­¦å‘Š: > 80%
- ä¸¥é‡: > 95%

#### 7. **ç£ç›˜IOä½¿ç”¨çŽ‡** âœ…

**ç›‘æŽ§æŒ‡æ ‡**:
- ç£ç›˜IOä½¿ç”¨çŽ‡ï¼ˆå½“å‰1.8-2%ï¼Œæ­£å¸¸ï¼‰

**ç›‘æŽ§æŸ¥è¯¢**:
```promql
# ç£ç›˜IOä½¿ç”¨çŽ‡
avg(avg_over_time(bkmonitor:system:io:util[1m]))
```

**å‘Šè­¦é˜ˆå€¼**:
- è­¦å‘Š: > 80%
- ä¸¥é‡: > 95%

### ðŸŸ¡ å…¶ä»–éœ€è¦å…³æ³¨çš„èµ„æº

#### 8. **æœåŠ¡å¥åº·çŠ¶æ€** ðŸ”´

**æ£€æŸ¥é¡¹**:
- æœåŠ¡é‡å¯é¢‘çŽ‡
- æœåŠ¡å´©æºƒåŽŸå› 
- æœåŠ¡å“åº”æ—¶é—´

#### 9. **ç½‘ç»œè¿žæŽ¥** ðŸŸ 

**æ£€æŸ¥é¡¹**:
- æ•°æ®åº“è¿žæŽ¥è´¨é‡
- å¤–éƒ¨æœåŠ¡è¿žæŽ¥çŠ¶æ€
- ç½‘ç»œå»¶è¿Ÿå’Œä¸¢åŒ…çŽ‡

#### 10. **å®‰å…¨äº‹ä»¶** ðŸ”´

**æ£€æŸ¥é¡¹**:
- å¼‚å¸¸è®¿é—®æ—¥å¿—
- å®‰å…¨æ¼æ´žæ£€æµ‹ç»“æžœ
- æœªæŽˆæƒè®¿é—®å°è¯•

---

## ðŸ“ˆ é”™è¯¯ç»Ÿè®¡

### æŒ‰æ—¥å¿—çº§åˆ«åˆ†å¸ƒï¼ˆè¿‘15åˆ†é’Ÿï¼‰

| çº§åˆ« | æ•°é‡ | å æ¯” |
|------|------|------|
| CRITICAL | çº¦30+ | ~5.5% |
| ERROR | çº¦40+ | ~7.3% |
| WARNING | çº¦50+ | ~9.1% |

### æŒ‰é—®é¢˜ç±»åž‹åˆ†å¸ƒ

| é—®é¢˜ç±»åž‹ | å‡ºçŽ°æ¬¡æ•° | ä¸¥é‡ç¨‹åº¦ |
|---------|---------|---------|
| æ”¯ä»˜ç³»ç»Ÿä¸å¯ç”¨ | 10+ | ðŸ”´ ä¸¥é‡ |
| æ•°æ®åº“ä¸»ä»ŽåŒæ­¥å¤±è´¥ | 5+ | ðŸ”´ ä¸¥é‡ |
| ç³»ç»Ÿå†…å­˜ä¸è¶³ | 5+ | ðŸ”´ ä¸¥é‡ |
| æ ¸å¿ƒæœåŠ¡å´©æºƒ | 5+ | ðŸ”´ ä¸¥é‡ |
| å®‰å…¨æ¼æ´žå¼‚å¸¸è®¿é—® | 4+ | ðŸ”´ ä¸¥é‡ |
| æ•°æ®åº“è¿žæŽ¥å¤±è´¥/è¶…æ—¶ | 20+ | ðŸŸ  é«˜ |
| ç£ç›˜ç©ºé—´ä¸è¶³ | 5+ | ðŸŸ¡ ä¸­ |
| ç”¨æˆ·è®¤è¯å¤±è´¥ | 10+ | ðŸŸ¡ ä¸­ |
| æ–‡ä»¶ä¸Šä¼ å¤±è´¥ | 5+ | ðŸŸ¡ ä¸­ |
| APIè°ƒç”¨é¢‘çŽ‡è¿‡é«˜ | 3+ | ðŸŸ¡ ä¸­ |
| å¤–éƒ¨æœåŠ¡å“åº”æ…¢ | 8+ | ðŸŸ¡ ä¸­ |

---

## ðŸ” å…¶ä»–é‡è¦å‘çŽ°

### æ•°æ®åº“ç›¸å…³é—®é¢˜
- **æ•°æ®åº“è¿žæŽ¥å¤±è´¥**: 
  - error=network errorï¼ˆç½‘ç»œé”™è¯¯ï¼‰
  - error=connection timeoutï¼ˆè¿žæŽ¥è¶…æ—¶ï¼‰
  - error=invalid credentialsï¼ˆå‡­è¯æ— æ•ˆï¼‰
- **æ•°æ®åº“è¿žæŽ¥è¶…æ—¶**: å¤šæ¬¡é‡è¯•ï¼ˆattempt=1-5ï¼‰
- **æ•°æ®åº“ä¸»ä»ŽåŒæ­¥å¤±è´¥**: æ•°æ®ä¸€è‡´æ€§é£Žé™©

### æ”¯ä»˜æŽ¥å£é—®é¢˜
- **æ”¯ä»˜æŽ¥å£è°ƒç”¨å¼‚å¸¸**: å¤šä¸ª error_code (7219, 8223, 7260, 4701, 9152)
- **æ”¯ä»˜ç³»ç»Ÿå®Œå…¨ä¸å¯ç”¨**: æŒç»­å‡ºçŽ°
- **å¤–éƒ¨æœåŠ¡å“åº”æ…¢**: service=payment, service=notification, service=storage

### æ–‡ä»¶ä¸Šä¼ é—®é¢˜
- **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**: 
  - reason=file too largeï¼ˆæ–‡ä»¶è¿‡å¤§ï¼‰
  - reason=permission deniedï¼ˆæƒé™æ‹’ç»ï¼‰
  - reason=invalid formatï¼ˆæ ¼å¼æ— æ•ˆï¼‰

### ç”¨æˆ·è®¤è¯é—®é¢˜
- **ç”¨æˆ·è®¤è¯å¤±è´¥**: å¤šä¸ªç”¨æˆ·åè®¤è¯å¤±è´¥ï¼ˆuser_71, user_100, user_63, user_82, user_53, user_49, user_60, user_57, user_99ï¼‰

### APIè°ƒç”¨é¢‘çŽ‡é—®é¢˜
- **APIè°ƒç”¨é¢‘çŽ‡è¿‡é«˜**: rate=166-713/min
- **ç¼“å­˜ç©ºé—´ä¸è¶³**: å¤šæ¬¡æ¸…ç†è¿‡æœŸæ•°æ®

---

## ðŸ“ å¤„ç†å»ºè®®

### ç´§æ€¥å¤„ç†ï¼ˆç«‹å³æ‰§è¡Œï¼‰

1. âœ… **æ£€æŸ¥ç£ç›˜ç©ºé—´ï¼ˆç‰¹åˆ«æ˜¯ `/data` åˆ†åŒºï¼‰** - ä½¿ç”¨çŽ‡é«˜è¾¾94%ï¼Œå¯èƒ½å¯¼è‡´æœåŠ¡åœæ­¢
2. âœ… **æ£€æŸ¥æ”¯ä»˜ç³»ç»ŸæœåŠ¡çŠ¶æ€** - æ”¯ä»˜ç³»ç»Ÿå®Œå…¨ä¸å¯ç”¨ï¼Œå½±å“ä¸šåŠ¡æ ¸å¿ƒåŠŸèƒ½
3. âœ… **æ£€æŸ¥æ•°æ®åº“ä¸»ä»ŽåŒæ­¥çŠ¶æ€** - æ•°æ®ä¸€è‡´æ€§é£Žé™©
4. âœ… **æ£€æŸ¥æ•°æ®åº“è¿žæŽ¥é—®é¢˜** - å¤§é‡è¿žæŽ¥å¤±è´¥ï¼Œå½±å“æ‰€æœ‰æœåŠ¡
5. âœ… **æ£€æŸ¥åº”ç”¨å†…å­˜é…ç½®** - åº”ç”¨å±‚æŠ¥å‘Šå†…å­˜ä¸è¶³ï¼Œä½†ç³»ç»Ÿå†…å­˜ä½¿ç”¨çŽ‡æ­£å¸¸
6. âœ… **è¿›è¡Œå®‰å…¨å®¡è®¡** - æ£€æµ‹åˆ°å¼‚å¸¸è®¿é—®ï¼Œå¯èƒ½å­˜åœ¨å®‰å…¨å¨èƒ

### çŸ­æœŸå¤„ç†ï¼ˆ1-2å°æ—¶å†…ï¼‰

1. åˆ†æžæœåŠ¡å´©æºƒåŽŸå› ï¼ŒæŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
2. ä¼˜åŒ–æ•°æ®åº“è¿žæŽ¥æ± é…ç½®
3. æ¸…ç†ç£ç›˜ç©ºé—´ï¼Œé‡Šæ”¾èµ„æº
4. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥è´¨é‡
5. æ£€æŸ¥åº”ç”¨è¿›ç¨‹å†…å­˜ä½¿ç”¨æƒ…å†µ
6. æ£€æŸ¥ç³»ç»Ÿè´Ÿè½½æƒ…å†µ

### é•¿æœŸä¼˜åŒ–ï¼ˆ1-3å¤©å†…ï¼‰

1. ä¼˜åŒ–å†…å­˜é…ç½®ï¼Œè€ƒè™‘æ‰©å®¹
2. å®žæ–½æœåŠ¡å¥åº·æ£€æŸ¥å’Œè‡ªåŠ¨æ¢å¤æœºåˆ¶
3. åŠ å¼ºå®‰å…¨ç›‘æŽ§å’Œé˜²æŠ¤
4. ä¼˜åŒ–APIè°ƒç”¨é¢‘çŽ‡é™åˆ¶
5. å»ºç«‹ç£ç›˜ç©ºé—´ç›‘æŽ§å‘Šè­¦
6. å»ºç«‹å®Œå–„çš„æ—¥å¿—è½®è½¬å’Œå½’æ¡£ç­–ç•¥

---

## ðŸ“… æŠ¥å‘Šç”Ÿæˆä¿¡æ¯

**ç”Ÿæˆæ—¶é—´**: 2025-12-18  
**åˆ†æžå·¥å…·**: è“é²¸ç›‘æŽ§æ—¥å¿—åˆ†æž + æŒ‡æ ‡ç›‘æŽ§  
**ç´¢å¼•é›†**: å¤šåˆ«åè®¾ç½®éªŒè¯ (ID: 2545)  
**æ•°æ®æ¥æº**: 
- æ—¥å¿—æŸ¥è¯¢: ç´¢å¼•é›† 2545
- ç›‘æŽ§æŒ‡æ ‡: ä¸šåŠ¡ID 2

---

## ðŸ“Œ å…³é”®ç›‘æŽ§æŒ‡æ ‡æŸ¥è¯¢è¯­å¥

å¦‚éœ€æŒç»­ç›‘æŽ§ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹PromQLæŸ¥è¯¢ï¼š

```promql
# CPUä½¿ç”¨çŽ‡
avg(avg_over_time(bkmonitor:system:cpu_summary:usage[1m]))

# å†…å­˜ä½¿ç”¨çŽ‡
avg(avg_over_time(bkmonitor:system:mem:pct_used[1m]))

# ç£ç›˜ä½¿ç”¨çŽ‡
avg(avg_over_time(bkmonitor:system:disk:in_use[1m]))

# ç£ç›˜IOä½¿ç”¨çŽ‡
avg(avg_over_time(bkmonitor:system:io:util[1m]))

# ç³»ç»Ÿè´Ÿè½½
avg(avg_over_time(bkmonitor:system:system:load:load5[5m]))
```

---

## ðŸŽ¯ æ€»ç»“

### æ ¸å¿ƒé—®é¢˜
1. **ç£ç›˜ç©ºé—´ä¸è¶³**ï¼ˆç‰¹å®šåˆ†åŒº94%ï¼‰- æœ€é«˜ä¼˜å…ˆçº§
2. **æ”¯ä»˜ç³»ç»Ÿå®Œå…¨ä¸å¯ç”¨** - ä¸šåŠ¡å½±å“æœ€å¤§
3. **æ•°æ®åº“è¿žæŽ¥é—®é¢˜** - å½±å“æ‰€æœ‰æœåŠ¡
4. **åº”ç”¨å†…å­˜é…ç½®é—®é¢˜** - ç³»ç»Ÿå†…å­˜æ­£å¸¸ä½†åº”ç”¨æŠ¥å‘Šä¸è¶³
5. **æ•°æ®åº“ä¸»ä»ŽåŒæ­¥å¤±è´¥** - æ•°æ®ä¸€è‡´æ€§é£Žé™©

### éœ€è¦é‡ç‚¹å…³æ³¨çš„è®¾å¤‡èµ„æº
1. **ç£ç›˜ç©ºé—´**ï¼ˆç‰¹åˆ«æ˜¯ `/data` åˆ†åŒºï¼‰- ç«‹å³æ£€æŸ¥
2. **åº”ç”¨å†…å­˜é…ç½®** - æ£€æŸ¥è¿›ç¨‹å†…å­˜é™åˆ¶
3. **æ•°æ®åº“è¿žæŽ¥çŠ¶æ€** - æ£€æŸ¥è¿žæŽ¥æ± å’Œç½‘ç»œ
4. **ç³»ç»Ÿè´Ÿè½½** - éœ€è¦è¿›ä¸€æ­¥æ£€æŸ¥
5. **æœåŠ¡å¥åº·çŠ¶æ€** - ç›‘æŽ§æœåŠ¡é‡å¯é¢‘çŽ‡

### å»ºè®®çš„ç›‘æŽ§å‘Šè­¦é˜ˆå€¼
- **å†…å­˜ä½¿ç”¨çŽ‡**: è­¦å‘Š > 85%, ä¸¥é‡ > 95%
- **ç£ç›˜ä½¿ç”¨çŽ‡**: è­¦å‘Š > 80%, ä¸¥é‡ > 90%
- **CPUä½¿ç”¨çŽ‡**: è­¦å‘Š > 80%, ä¸¥é‡ > 95%
- **ç£ç›˜IOä½¿ç”¨çŽ‡**: è­¦å‘Š > 80%, ä¸¥é‡ > 95%
- **ç³»ç»Ÿè´Ÿè½½**: è­¦å‘Š > CPUæ ¸å¿ƒæ•°, ä¸¥é‡ > CPUæ ¸å¿ƒæ•° * 2


